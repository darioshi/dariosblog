
CREATE TABLE `t_article` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `title` VARCHAR(80) NOT NULL DEFAULT '' COMMENT '文章标题',
  `user_id` int(11) NOT NULL DEFAULT 0 COMMENT '用户ID',
  `sort_id` int(11) NOT NULL DEFAULT 0 COMMENT '分类ID',
  `star` INT(11) NOT NULL DEFAULT 0 COMMENT '点赞数',
  `comment` INT(11) NOT NULL DEFAULT 0 COMMENT '评论数',
  `visit` INT(11) NOT NULL DEFAULT 0 COMMENT '访问数',
  `content` TEXT NOT NULL DEFAULT '' COMMENT '内容',
  `status` INT(11) NOT NULL DEFAULT 1 COMMENT '状态: 0 删除 1 正常',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `t_comment` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `article_id` INT(11) NOT NULL DEFAULT 0 COMMENT '文章ID',
  `nickname` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '评论者昵称',
  `email` varchar(64) NOT NULL DEFAULT '' COMMENT '邮箱',
  `content` TEXT NOT NULL DEFAULT '' COMMENT '内容',
  `star` INT(11) NOT NULL DEFAULT 0 COMMENT '支持数',
  `diss` INT(11) NOT NULL DEFAULT 0 COMMENT '反对数',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  `status` int(2) NOT NULL DEFAULT 1 COMMENT '状态：1：正常 0：删除',
  PRIMARY KEY (`id`)
  KEY `article_id` (`article_id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `t_tag` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `name` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '标签名',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `t_article_tag` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `article_id` INT(11) NOT NULL DEFAULT '0' COMMENT '文章ID',
  `tag_id` INT(11) NOT NULL DEFAULT '0' COMMENT '标签ID',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
  UNIQUE KEY `un_article_tag` (`article_id`,`tag_id`) USING BTREE
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8

CREATE TABLE `t_sort` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `name` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '分类名',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `t_user` (
  `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `name` VARCHAR(64) NOT NULL DEFAULT = '' COMMENT '用户名',
  `password` VARCHAR(64) NOT NULL DEFAULT = '' COMMENT '密码',
  `create_time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

CREATE TABLE `t_visitor` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `ip` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '访问者IP',
  `web_ip` VARCHAR(64) NOT NULL DEFAULT '' COMMENT 'WEB服务器的IP地址',
  `host` VARCHAR(64) NOT NULL DEFAULT '' COMMENT '访问者主机名',
  `time` DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '创建时间',
  PRIMARY KEY (`id`)
) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;